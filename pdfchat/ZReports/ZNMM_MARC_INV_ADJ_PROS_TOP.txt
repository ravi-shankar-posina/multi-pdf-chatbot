*&---------------------------------------------------------------------*
*&  Include           ZNMM_MARC_INV_ADJ_PROS_TOP
*&---------------------------------------------------------------------*
TYPES:
        BEGIN OF typ_error_file,
        tran_seq_no(9)  TYPE c,
        comp_code(2)    TYPE c,
        disc_no(9)      TYPE c,
        sku(20)         TYPE c,
        qty_adj_sign(1) TYPE c,
        qty_adj(9)      TYPE c,
        lp(9)           TYPE c,
        record_date(8)  TYPE c,
        record_time(6)  TYPE c,
        reject_reason(125)  TYPE c,
        END OF typ_error_file,

        BEGIN OF typ_tbtco,
        jobname	TYPE btcjob,
        jobcount TYPE	btcjobcnt,
        strtdate  TYPE btcxdate,
        strttime  TYPE btcxtime,
        enddate	TYPE btcxdate,
        endtime	TYPE btcxtime,
      END OF typ_tbtco,

        BEGIN OF ty_new,
          file_name TYPE file_name,
          tran_no  TYPE ztran_no,
          rec_seq     TYPE zrecord_seq_no,
          fail_step(2),
          fail_step_descrin(50),
          reason(100),
          sku TYPE char20,
        END OF ty_new.
TYPES:  BEGIN OF typ_smf.
        INCLUDE STRUCTURE zsmm_marc_inv_me.
TYPES: END OF typ_smf.


DATA: gt_marc_inv_da TYPE TABLE OF ztmm_marc_inv_da,
      gi_marc_inv_da TYPE ztmm_marc_inv_da,
      gt_new   TYPE TABLE OF ty_new,
      gi_new   TYPE ty_new,
      gt_final  TYPE TABLE OF ztmm_marc_inv_da,
      gi_final  TYPE ztmm_marc_inv_da,
      gw_input_status_tab       TYPE zinput_status,
      gw_error_type_tab         TYPE zerror_type,
      gw_reject_reason_tab      TYPE zreject_reason,
      gw_skip,
      gt_error_file  TYPE STANDARD TABLE OF typ_error_file,
      gi_error_file  TYPE typ_error_file,
      gt_error_marc  TYPE STANDARD TABLE OF ztmm_marc_inv_me,
      gi_error_marc  TYPE ztmm_marc_inv_me,
      gt_error_marc_smf  TYPE STANDARD TABLE OF typ_smf,
      gi_error_marc_smf  TYPE typ_smf,
      gt_marc_inv_ef TYPE STANDARD TABLE OF ztmm_marc_inv_ef,
      gi_marc_inv_ef TYPE ztmm_marc_inv_ef,
      gt_ztmm_marc_inv_err  TYPE STANDARD TABLE OF ztmm_marc_inv_er,
      gi_ztmm_marc_inv_err  TYPE ztmm_marc_inv_er,
      gt_marc_msg_pr TYPE TABLE OF ztmm_marc_msg_pr,
      gi_marc_msg_pr TYPE ztmm_marc_msg_pr,
      gt_fieldcat   TYPE slis_t_fieldcat_alv,
      gt_fieldcat_n TYPE slis_t_fieldcat_alv,
      gi_fieldcat TYPE slis_fieldcat_alv.

DATA: gi_bapi_gm_head TYPE bapi2017_gm_head_01,
      gi_bapi_gm_code TYPE bapi2017_gm_code,
      gw_testrun      TYPE bapi2017_gm_gen-testrun,
      gi_bapi_gm_item TYPE bapi2017_gm_item_create,
      gt_bapi_gm_item TYPE STANDARD TABLE OF bapi2017_gm_item_create,
      gt_bapi_return  TYPE STANDARD TABLE OF bapiret2,
      gi_bapi_return  TYPE bapiret2,
      gt_ztuhcd1   TYPE TABLE OF ztuhcd1,
      gi_ztuhcd1   TYPE ztuhcd1,
      gc_formname TYPE tdsfname  VALUE 'ZMM_MARC_INV_ERROR_REPORT_SF',
      gw_fmname         TYPE rs38l_fnam,
      gi_marc_print TYPE ztmm_marc_print,
      gi_ssfctrlop      TYPE ssfctrlop,
      gi_ssfcompop      TYPE ssfcompop,
      gi_ssfcrescl       TYPE ssfcrescl,
      gt_otf             TYPE STANDARD TABLE OF itcoo,
      gt_tline           TYPE STANDARD TABLE OF tline,
      gt_objtxt          TYPE STANDARD TABLE OF solisti1,
      gt_objbin          TYPE STANDARD TABLE OF solix ,
      gi_objhead         TYPE soli_tab,
      gw_buffer          TYPE string,
      gi_tline           TYPE tline,
      gi_record          TYPE solisti1,
      gi_objbin          TYPE solix ,
      gv_len_in          TYPE i,
      gi_xstring         TYPE xstring,
      gw_msg_id          TYPE symsgid,
      gw_msg_no          TYPE symsgno,
      gw_file_path     TYPE string,
      gw_arc_file_path  TYPE string,
      gw_source_path TYPE sapb-sappfad,
      gw_target_path TYPE sapb-sappfad,
      gt_dir_list   TYPE STANDARD TABLE OF eps2fili,
      gi_dir_list   TYPE eps2fili,
      gi_ztmm_marc_trans TYPE ztmm_marc_inv_tr,
      gt_ztmm_marc_trans TYPE STANDARD TABLE OF ztmm_marc_inv_tr,
      gt_tbtco          TYPE STANDARD TABLE OF typ_tbtco,
      gi_tbtco          TYPE typ_tbtco,
      gt_ztmm_marc_file  TYPE STANDARD TABLE OF ztmm_marc_inv_fl,
      gt_marc_inv_item      TYPE STANDARD TABLE OF ztmm_marc_inv_er,
      gi_ztmm_marc_inv_fl    TYPE ztmm_marc_inv_fl,
      gi_inv_marc_fl        TYPE ztmm_marc_inv_fl,
      gi_marc_inv_item      TYPE ztmm_marc_inv_er,
      gw_seq_no                 TYPE i,
      gw_tran_no_tab      TYPE ztran_no,
      gw_trans_seq_no_tab TYPE ztran_seq_no,
      gw_data_type_tab    TYPE zdata_type,
      gw_comp_code_tab    TYPE zcomp_code,
      gw_disc_no_tab    TYPE zdisc_no,
      gw_msg_id_num     TYPE zmsg_id_num,
      gw_reject_reason TYPE zreject_reason,
      gw_mblnr         TYPE bapi2017_gm_head_ret-mat_doc,
      gw_mjahr         TYPE bapi2017_gm_head_ret-doc_year,
      gw_bapi_error(23)         TYPE c,
      gw_message                TYPE bapi_msg,
      gw_type_adj               TYPE ztype_adj,
      gw_lp_tab                 TYPE zlp,
      gw_matnr   TYPE matnr,
      gw_zzaltmn TYPE zaltmn,
      gw_flag    TYPE char1,
      gw_strln   TYPE i,
      gw_switch  TYPE char3,
      gw_value   TYPE string,
      gw_ntype           TYPE dd01v-datatype,
      gw_qty_adj_sign           TYPE zqty_adj_sign,
      gw_qty_adj_sign_tab       TYPE zqty_adj_sign,
      gw_uom_abbrev             TYPE zuom_abbrev,
      gw_uom(2)                 TYPE c,
      gw_lot                    TYPE zlot,
      gw_lp                     TYPE zlp,
      gw_cart_lp                TYPE zcart_lp,
      gc_x VALUE 'X'.

  DATA : gw_marc_print TYPE ztmm_marc_print. "USPRADI DE3K9A0DSH on 02.06.2022

FIELD-SYMBOLS: <gi_ztmm_marc_inv_da> TYPE ztmm_marc_inv_da."ty_inv_da.
RANGES: s_return FOR gw_bapi_error.

